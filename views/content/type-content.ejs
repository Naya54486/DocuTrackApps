<!--TYPE VIEW STARTS HERE -->
<!--complete logic for type view-->
<% if (title == 'Create Type') { %>
    <div class="col-sm-8">
        <div>
            <form action="" method="post">
              Type Name:<br>
              <input type="text" id="button" name="type_name" placeholder="Type Name">
              <br><br>
              <input type="submit" id="button" value="Create Type">
            </form>
        </div>
    </div>

<% } else if (title == 'Delete Type') { %>

<% } else if (title == 'Update Type') { %>
    <div class="col-sm-8">
        <div>
            <form action=""/type/<%= type.id %>/update"" method="post">
              Type Name:<br>
              <input type="text" id="button" name="type_name" value="<%= type.type_name %>">
              <br><br>
              <input type="submit" id="button" value="Update Type">
            </form>
        </div>
    </div>

<% } else if (title == 'Type Details') { %>
    <div class="col-sm-8">
        <div class="">
             <h1>Details of a Single Type</h1>
             <p>I am a type with this ID = <%= type.id %></p>
             <p>First Name: <%= type.type_name %></p>
             <a href="/type/<%= type.id %>/update">Edit  Type</a> | <a href="/type/<%= type.id %>/delete">Delete Type</a>
             
        <% if(type.Documents.length == 0) { %>
            <h2>There are no documents by this type yet </h2>
        <% } else { %>
            <h2>All Documents by this Type</h2>
            <div class="">
                <ol>
                <% type.Documents.forEach(function(document) { %>
                        <li>
                            <p> 
                                <a href="/document/<%= document.id %>"><%= document.subject %></a>
                                    <br/>
                                <%= document.description %>
                                    <br/>
                                <%= document.status %>
                                <br/> <a href="/document/<%= document.id %>/update">Edit  Document</a> | <a href="/document/<%= document.id %>/delete">Delete Document</a>
                            </p>
                        </li>
                    <br/>
                <% }); %>
                </ol>
            </div>    
            <% } %>   
        </div>
        
        <h2>Create new document for this type </h2>
        <!--DISPLAY CREATE FORM IN TYPE-->
        
        <!--YOU CAN ALSO MOVE THIS TO ANY ROUTE IF YOU WANT-->
        
        <form action="/document/create" method="post">
                Subject:<br>
                <input type="text" id="button" name="subject" placeholder="Subject">
                <br><br/>
                Description:<br>
                <input type="text" id="button" name="description" placeholder="Description">
                <br><br>
                Status:<br>
                <input type="text" id="button" name="status" placeholder="status">
                <br><br>
                
                <!--I DONT NEED TO LIST TYPESS AGAIN - BECAUSE I AM ON A SINGLE TYPES PAGE, I WILL -->
                <!--PASS THE TYPE ID AUTOMATICALLY WITH FORM INPUTS USING THE HIDDEN FIELD -->
                <!--Type:<br>-->
                <!-- <select name = "type_id">-->
                <!--      <#% types.forEach(function(type) { %>-->
                <!--      <option  value="<#%= type.id %>"><#%= type.first_name %></option>-->
                <!--  <br/>-->
                <!-- <#% }); %>-->
                <!--  </select>-->
                <input type="hidden" id="button" name="type_id" value="<%= type.id %>">
                Category:<br>
                <select name = "category_id" id="button">
                    <% categories.forEach(function(category) { %>
                    <option  value="<%= category.id %>"><%= category.name %></option>  
                <br/>
                <% }); %>
                </select>
                <br><br>
                <input type="submit" value="Create Document" onClick="checkCat()">
                </form>
    </div>

<% } else if (title == 'Type List') { %>
    <div class="col-sm-8">
        <div class="">
            <ol>
            <% types.forEach(function(type) { %>
            <% console.log(types) %>
                    <li>
                        <h4><a href="/type/<%= type.id %>"><%= type.type_name %></a></h4>
                         <a href="/type/<%= type.id %>/update">Edit  Type</a> | <a href="/type/<%= type.id %>/delete">Delete Type</a>
                    </li>
                <br/>
            <% }); %>
            </ol>
        </div>
        <a href="/type/create"> CLICK HERE TO CREATE TYPE</a>
    </div>
<% } else { %>

<% } %>
<!--TYPE VIEW END HERE-->
<script>
    function checkCat() {
    var checkBoxes = document.getElementsByClassName( 'categoryCheckbox' );
    var isChecked = false;
    for (var i = 0; i < checkBoxes.length; i++) {
        if ( checkBoxes[i].checked ) {
            isChecked = true;
        };
    };
    if ( isChecked ) {
        
        } else {
            alert( 'Please, check at least one checkbox!' );
        }   
}
</script>